<!DOCTYPE html>
<!-- saved from url=(0062)https://www.pluralsight.com/utilities/promo-only?noLaunch=true -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta name="robots" content="noindex, nofollow">
<script async="" src="./sendem.js.download"></script><script data-cfasync="false">window.wcmmodedisabled = true;</script>
<script data-cfasync="false">
function getParameterByName(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return o&&o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):""}function changeHistoryQueryParam(e,n,o,t,a){if(history.pushState){var i=""==window.location.search?"?":window.location.search;if(-1!==decodeURIComponent(i).indexOf(e+"=")){var d=getParameterByName(e);if(t)if(o){var c=(p=d.split(",")).indexOf(n);if(c>-1&&p.splice(c,1),0===p.length){var r=new RegExp("&?"+e+"=[^&]*","g");i=i.replace(r,"")}else i=i.replace(e+"="+encodeURIComponent(d),e+"="+encodeURIComponent(p.join(",")))}else{var p=[];d?p=d.split(","):d="",-1===p.indexOf(n)&&(p.push(n),i=i.replace(e+"="+encodeURIComponent(d),e+"="+encodeURIComponent(p.join(","))))}else if(o){r=new RegExp("&?"+e+"=[^&]*","g");i=i.replace(r,"")}else i=i.replace(e+"="+encodeURIComponent(d),e+"="+encodeURIComponent(n))}else o||(i+="?"==i?e+"="+encodeURIComponent(n):"&"+e+"="+encodeURIComponent(n));var s=window.location.protocol+"//"+window.location.host+window.location.pathname+(a?decodeURIComponent(i):i);window.history.pushState({path:s},"",s)}}function dtmEventTrigger(e,n){var o=new CustomEvent(e,{bubbles:!0,cancelable:!1,detail:n});document.querySelector("body").dispatchEvent(o)}window.loadRemoteScript=function(e,n,o,t,a){var i=document.createElement("script");i.type=n||"text/javascript",i.id=t||null,1==o&&(i.async=o||1),i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,a())}:i.onload=function(){a()},i.src=("https:"==document.location.protocol?"https://":"http://")+e,document.getElementsByTagName("head")[0].appendChild(i)};var doNotTrack=document.cookie.indexOf("ps_optout=1")>-1||document.URL.indexOf("dnt=true")>-1,oneHour=36e5,oneYear=24*oneHour*365,trkDate=new Date(Date.now()+oneHour);document.cookie="ps_trk="+(doNotTrack?"0":"1")+"; expires="+trkDate.toUTCString()+"; path=/"+(document.URL.indexOf("pluralsight.com")>-1?"; domain=pluralsight.com":"");var firstVisit=-1==document.cookie.indexOf("fv=");document.cookie="fv="+(firstVisit?"1":"0")+"; expires="+new Date(Date.now()+oneYear).toUTCString()+"; path=/"+(document.URL.indexOf("pluralsight.com")>-1?"; domain=pluralsight.com":""),window.dnbData={},document.cookie.indexOf("ps_trk=1")>-1&&"undefined"!=typeof dnbvid&&dnbvid.getData("api7831","json","T",function(e){window.dnbData=e,window.promoCheck&&!window.promoCheckRan&&window.promoCheck()}),document.addEventListener("at-content-rendering-succeeded",function(){window.targetFinished=!0},!1),document.addEventListener("at-content-rendering-failed",function(){window.targetFinished=!0},!1),document.addEventListener("at-content-rendering-no-offers",function(){window.targetFinished=!0},!1);
</script>
<script data-cfasync="false" src="./jquery.min.js.download"></script>
<link rel="stylesheet" href="./clientlib-uber.lc-31fe442864ae22f2ea6847bbe6d337f8-lc.min.css" type="text/css">
<script data-cfasync="false">
var appHost=("www-stage.pluralsight.com"==window.location.host||"www-dev.pluralsight.com"==window.location.host)?"https://app-stage.pluralsight.com":"https://app.pluralsight.com",pagePath=window.location.pathname,redirectPath="",appRedirectTag=document.head.querySelector("[name~='appRedirectPath'][content]");if(appRedirectTag&&(redirectPath=appRedirectTag.content.toString()),!window.is404){if(0==pagePath.indexOf("/product/channels")&&(redirectPath="/channels",document.URL.indexOf("cid=")>-1&&(redirectPath="/channels/details/"+getParameterByName("cid"))),pagePath.indexOf("/achievements")>-1&&"URLSearchParams"in window){var urlParams=new URLSearchParams(window.location.search),badgeID=urlParams.get("badge");redirectPath="/achievements/badges/"+badgeID}if(document.cookie.indexOf("www-status-production=")>-1&&-1==document.cookie.indexOf("midCheckout")&&("www.pluralsight.com"==window.location.host||"beta.www.pluralsight.com"==window.location.host)||document.cookie.indexOf("www-status-staging=")>-1&&-1==document.cookie.indexOf("midCheckout")&&("www-stage.pluralsight.com"==window.location.host||"beta.www-stage.pluralsight.com"==window.location.host)){var aidParam=getParameterByName("aid"),vidParam=getParameterByName("vid"),paramsString="";""!==aidParam&&(paramsString+=(paramsString.indexOf("?")>-1?"&":"?")+"aid="+aidParam),""!==vidParam&&(paramsString+=(paramsString.indexOf("?")>-1?"&":"?")+"vid="+vidParam),""!==redirectPath&&-1===document.URL.indexOf("show=home")?window.location=appHost+redirectPath+paramsString:jQuery(document).ready(function(){var a=appHost+"/id/dashboard",t=jQuery(".header_sign_up_link");t.text("My Dashboard"),t.attr("href",a),t.attr("title","My Dashboard"),jQuery(".header_sign_in_link").attr("style","display: none !important")})}else 0!=pagePath.indexOf("/customer/")||"www-stage.pluralsight.com"!=window.location.host&&"beta.www-stage.pluralsight.com"!=window.location.host&&"www.pluralsight.com"!=window.location.host&&"beta.www.pluralsight.com"!=window.location.host||-1!=document.cookie.indexOf("midCheckout")?""!=redirectPath?jQuery(document).ready(function(){jQuery(".sign_in_link").attr("href",appHost+"/id?redirectTo="+encodeURIComponent(redirectPath))}):jQuery(document).ready(function(){jQuery(".sign_in_link").attr("href",appHost+"/id?")}):window.location=appHost+"/id?redirectTo="+encodeURIComponent(document.URL)}
</script>
<meta data-customer-type="no-type">
<meta data-customer-type-ignore="false">
<script data-cfasync="false">
    document.cookie.indexOf("ps_si=")>-1&&(window.selectedInterest=document.cookie.split("ps_si=")[1].split(";")[0]),document.cookie.indexOf("ps_sct=")>-1&&(window.selectedConsumerType=document.cookie.split("ps_sct=")[1].split(";")[0]);var customerType,customerTypeTag=document.head.querySelector("meta[data-customer-type]").getAttribute("data-customer-type"),customerTypeIgnore=document.head.querySelector("meta[data-customer-type-ignore]").getAttribute("data-customer-type-ignore");customerTypeTag&&"true"!==customerTypeIgnore&&"string"==typeof customerTypeTag&&("pluralsight-customer-type:individual"===customerTypeTag?customerType="individual":"pluralsight-customer-type:business"===customerTypeTag&&(customerType="business"),customerType&&"pluralsight-customer-type:escape"!==customerTypeTag&&setSelectedConsumerType(customerType));function setSelectedInterest(e){var t=new Date;t.setTime(t.getTime()+6048e5),document.cookie="ps_si="+e+"; expires="+t.toUTCString()+"; path=/",window.selectedInterest=e}function setSelectedConsumerType(e){var t=new Date;t.setTime(t.getTime()+6048e5),document.cookie="ps_sct="+e+"; expires="+t.toUTCString()+"; path=/",window.selectedConsumerType=e}function setSelectedBusinessType(e){var t=new Date;t.setTime(t.getTime()+6048e5),document.cookie="ps_sbt="+e+"; expires="+t.toUTCString()+"; path=/",window.selectedBusinessType=e}if(document.URL.indexOf("b2c-price=true")>-1?setSelectedConsumerType("individual"):document.URL.indexOf("b2b-price=true")>-1&&setSelectedConsumerType("business"),document.cookie.indexOf("ps_sbt=")>-1&&(window.selectedBusinessType=document.cookie.split("ps_sbt=")[1].split(";")[0]),-1==document.cookie.indexOf("drift_ab")){var driftAbDate=new Date;driftAbDate.setTime(driftAbDate.getTime()+6048e5);var driftAb=0==Math.floor(2*Math.random())?"A":"B";document.cookie="drift_ab="+driftAb+"; expires="+driftAbDate.toUTCString()+"; path=/"}var inflDate=new Date;inflDate.setTime(inflDate.getTime()+18e5);var visNumDate=new Date;if(visNumDate.setTime(visNumDate.getTime()+31536e6),document.cookie.indexOf("ps_infl")>-1){var infl=document.cookie.split("ps_infl=")[1].split(";")[0];document.cookie="ps_infl="+infl+"; expires="+inflDate.toUTCString()+"; path=/"}else{var visNum=1;document.cookie.indexOf("ps_visNum")>-1&&(visNum=parseInt(document.cookie.split("ps_visNum=")[1].split(";")[0])+1),document.cookie="ps_visNum="+visNum+"; expires="+visNumDate.toUTCString()+"; path=/",getParameterByName("aid")||getParameterByName("vid")||""!=document.referrer&&-1==document.referrer.indexOf("pluralsight.com")?document.cookie="ps_infl=1; expires="+inflDate.toUTCString()+"; path=/":document.cookie="ps_infl=0; expires="+inflDate.toUTCString()+"; path=/"}!function(e,t,i,o){function n(){return t.getElementsByTagName("head")[0]}function s(e,i){if(e){var o=t.getElementById(i);o&&e.removeChild(o)}}if(window.location.hostname.endsWith("pluralsight.com")&&("/content/pluralsight/en.html"===window.location.pathname||"/"===window.location.pathname)){!function(e,i,o){if(e){var n=t.createElement("style");n.id=i,n.innerHTML=o,e.appendChild(n)}}(n(),"at-body-style","body {opacity: 0 !important}");const e=setTimeout(function(){s(n(),"at-body-style")},3e3);jQuery("html").on("at-content-rendering-succeeded at-content-rendering-failed",()=>{s(n(),"at-body-style"),clearTimeout(e)})}}(window,document);
</script>
<script src="./launch-EN123ab280156b405ca2abf6acf664d9a0.min.js.download" async=""></script>
<title>Promo Only (for guides iframe) | Pluralsight</title>
<meta property="og:title" content="Promo Only (for guides iframe)">
<meta name="twitter:title" content="Promo Only (for guides iframe)">
<script src="./AppMeasurement.min.js(1).download" async=""></script><script src="./AppMeasurement_Module_ActivityMap.min.js.download" async=""></script><script src="./AppMeasurement_Module_AudienceManagement.min.js.download" async=""></script></head>
<body class="mode-disabled generic-template font-loading">
<div class="site-wrap">
<div class="nav-context promo-and-banner-wrapper">
<style>
    #guides-banner{display:flex;flex-direction:row;justify-content:center;background:url('/etc.clientlibs/pluralsight/clientlibs/clientlib-main/resources/images/guides-banner-bg.png') left center repeat-y,linear-gradient(90deg,#ec008c 0,#f15b2a 100%);color:#fff}#guides-banner-content{display:flex;flex:1 auto;flex-direction:row;align-items:center;padding:10px 20px;max-width:1200px}#guides-banner .gb-headline{flex:auto;align-items:center}#guides-banner .gb-cta-wrapper{flex-basis:200px;margin-left:20px;min-width:200px}#guides-banner h4{color:#fff;font-family:"PS Commons Bold";font-size:22px;line-height:29px;margin:0}#guides-banner .button{margin:0}.promo-and-banner-wrapper{overflow:hidden}@media screen and (max-width:640px){#guides-banner{background-image:linear-gradient(90deg,#ec008c 0,#f15b2a 100%)}#guides-banner-content{flex-direction:column}#guides-banner .gb-cta-wrapper,#guides-banner .gb-headline{flex:1;text-align:center;margin:5px auto}}
</style>
<div id="guides-banner" style="display: none;">
<div id="guides-banner-content">
<div class="gb-headline">
<h4>Gain FREE Access to over 1300 guides and 50+ Free Courses Every Month</h4>
</div>
<div class="gb-cta-wrapper">
<a href="https://www.pluralsight.com/product/skills/free" class="button button--black" data-aa-title="guides-banner-learn-more">Learn More</a>
</div>
</div>
</div>
<div id="site-promo">
<div id="site-promo-content"><div class="promo-wrapper-filter" data-allowedpaths="/" data-blockhiding="false">
<div class="promo-wrapper-contents clearfix"><div class="generic-block section">
<div class="generic-block-wrapper block block--true-black block--left generic-block--auto generic-block--vertical-center padding-top-zero padding-bottom-zero clearfix">
<div class="main clearfix">
<div class="content clearfix"><div class="generic-block section">
<div id="show-for-large-up q4-banner_" class="hidden"></div>
<div class="generic-block-wrapper block block--transparent block--left generic-block--auto padding-top-zero padding-bottom-zero show-for-large-up q4-banner clearfix" style="background-image: url(&#39;/content/dam/pluralsight2/b2c-promos/50--off-monthly-premium/cigar-background.png&#39;);background-position:center;background-size:cover;background-repeat:no-repeat;">
<div class="main clearfix">
<div class="content clearfix"><div class="column-control section">
<div class="container column-control-container">
<div class="row large add-flex padding-top-ten padding-bottom-ten column-control--super-wide">
<div class="columns customPadding large-12 small-12" style="padding-right: 0 !important; padding-left: 0 !important; "><div class="animation-wrapper section">
<style type="text/css">
        
        .animation-wrapper-container.animation-unique-ddFWNcCC {position:relative;margin-left:20px;}
        
    </style>
<div class="animation-wrapper-container  animation-unique-ddFWNcCC " data-rellax-speed="0">
<div class="main clearfix">
<div class="clearfix"><div class="image section">
<a href="https://www.pluralsight.com/offer/2022/q3-50-off-monthly-premium" class=" " target="_self" data-aa-title="cigar-banner-cta">
<img src="./cigar-copy-updated.png" alt="50% Off Pluralsight" style="  max-width: 120%;" class="image--center ">
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="generic-block section">
<div id="q4-banner-m hide-for-large-up_" class="hidden"></div>
<div class="generic-block-wrapper block block--transparent block--left generic-block--auto padding-top-fifty padding-bottom-zero q4-banner-m hide-for-large-up clearfix" style="background-image: url(&#39;/content/dam/pluralsight2/b2c-promos/50--off-monthly-premium/homepage-backgroung.png&#39;);background-position:center;background-size:cover;background-repeat:no-repeat;">
<div class="main clearfix">
<div class="content clearfix"><div class="column-control section">
<div class="container column-control-container">
<div class="row large add-flex padding-bottom-forty fullwidth">
<div class="columns customPadding large-12 small-12" style="padding-right: 40px; padding-left: 40px; "><div class="animation-wrapper section">
<style type="text/css">
        @media only screen and (min-width: 1025px) {
        .animation-wrapper-container.animation-unique-uRaeRhQE {position:relative;}
        }
        @media only screen and (min-width: 641px) and (max-width: 1024px) {.animation-wrapper-container.animation-unique-uRaeRhQE {position:relative;}}
        @media only screen and (max-width: 640px) {.animation-wrapper-container.animation-unique-uRaeRhQE {position:relative;margin-top:25px;}}
        
    </style>
<div class="animation-wrapper-container  animation-unique-uRaeRhQE " data-rellax-speed="0">
<div class="main clearfix">
<div class="clearfix"><div class="image section">
<a href="https://www.pluralsight.com/offer/2022/q3-50-off-monthly-premium" class=" " target="_self" data-aa-title="cigar-banner-cta">
<img src="./hp-hero-copy-centered.png" alt="50% Off Pluralsight" style="  max-width: 100%;" class=" ">
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="placeholder clearfix" style="visibility:hidden"><div class="generic-block section">
<div id="show-for-large-up q4-banner_" class="hidden"></div>
<div class="generic-block-wrapper block block--transparent block--left generic-block--auto padding-top-zero padding-bottom-zero show-for-large-up q4-banner clearfix" style="background-image: url(&#39;/content/dam/pluralsight2/b2c-promos/50--off-monthly-premium/cigar-background.png&#39;);background-position:center;background-size:cover;background-repeat:no-repeat;">
<div class="main clearfix">
<div class="content clearfix"><div class="column-control section">
<div class="container column-control-container">
<div class="row large add-flex padding-top-ten padding-bottom-ten column-control--super-wide">
<div class="columns customPadding large-12 small-12" style="padding-right: 0 !important; padding-left: 0 !important; "><div class="animation-wrapper section">
<style type="text/css">
        
        .animation-wrapper-container.animation-unique-tAwRichq {position:relative;margin-left:20px;}
        
    </style>
<div class="animation-wrapper-container  animation-unique-tAwRichq " data-rellax-speed="0">
<div class="main clearfix">
<div class="clearfix"><div class="image section">
<a href="https://www.pluralsight.com/offer/2022/q3-50-off-monthly-premium" class=" " target="_self" data-aa-title="cigar-banner-cta">
<img src="./cigar-copy-updated.png" alt="50% Off Pluralsight" style="  max-width: 120%;" class="image--center ">
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="generic-block section">
<div id="q4-banner-m hide-for-large-up_" class="hidden"></div>
<div class="generic-block-wrapper block block--transparent block--left generic-block--auto padding-top-fifty padding-bottom-zero q4-banner-m hide-for-large-up clearfix" style="background-image: url(&#39;/content/dam/pluralsight2/b2c-promos/50--off-monthly-premium/homepage-backgroung.png&#39;);background-position:center;background-size:cover;background-repeat:no-repeat;">
<div class="main clearfix">
<div class="content clearfix"><div class="column-control section">
<div class="container column-control-container">
<div class="row large add-flex padding-bottom-forty fullwidth">
<div class="columns customPadding large-12 small-12" style="padding-right: 40px; padding-left: 40px; "><div class="animation-wrapper section">
<style type="text/css">
        @media only screen and (min-width: 1025px) {
        .animation-wrapper-container.animation-unique-BptceRHu {position:relative;}
        }
        @media only screen and (min-width: 641px) and (max-width: 1024px) {.animation-wrapper-container.animation-unique-BptceRHu {position:relative;}}
        @media only screen and (max-width: 640px) {.animation-wrapper-container.animation-unique-BptceRHu {position:relative;margin-top:25px;}}
        
    </style>
<div class="animation-wrapper-container  animation-unique-BptceRHu " data-rellax-speed="0">
<div class="main clearfix">
<div class="clearfix"><div class="image section">
<a href="https://www.pluralsight.com/offer/2022/q3-50-off-monthly-premium" class=" " target="_self" data-aa-title="cigar-banner-cta">
<img src="./hp-hero-copy-centered.png" alt="50% Off Pluralsight" style="  max-width: 100%;" class=" ">
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>
<div class="promo-close-button">Ã—</div>
</div>
<script>
  let previousHeight=-1;let noDBpromo=true;function hideGuidesBanner(){jQuery('#guides-banner').hide();setPromoHeight()}function showPromoIfPermitted(){if(document.cookie.indexOf("site-promo-closed=1")==-1||window.blockPromoHide){if(jQuery("#site-promo .promo-wrapper-contents").length>-1&&jQuery("#site-promo .promo-wrapper-contents").html()!=undefined&&jQuery("#site-promo .promo-wrapper-contents").html().trim()!=""){setTimeout(function(){setPromoHeight()},400)}jQuery("#site-promo .promo-close-button").click(function(){let d=new Date();d.setTime(d.getTime()+(12*60*60*1000));document.cookie="site-promo-closed=1; expires="+d.toUTCString()+"; path=/";jQuery("#site-promo").slideUp(300)});window.promoShown=true;hideGuidesBanner();if(window.setStickies){window.setStickies()}dtmEventTrigger("ps.promoShown",{})}else{setPromoHeight()}}function promoCheck(){window.promoCheckRan=true;if(document.URL.indexOf("b2b=true")>-1||document.URL.indexOf("nopromos=true")>-1){let d=new Date();d.setTime(d.getTime()+(7*24*60*60*1000));document.cookie="nopromos=1; expires="+d.toUTCString()+"; path=/; domain=pluralsight.com"}if(document.cookie.indexOf("nopromos=1")==-1&&(window.location.host=='www.pluralsight.com'||window.location.host=='www-dev.pluralsight.com'||window.location.host=='www-stage.pluralsight.com'||window.location.host=='www-preview.pluralsight.com'||window.location.host=='aem-local-author.pluralsight.com:4502'||window.location.host=='learn.pluralsight.com'||window.location.host=='learn-stage.pluralsight.com'||window.location.host=='learn-dev.pluralsight.com'||window.location.host=='www.javascript.com'||window.location.host=='www-stage.javascript.com'||window.location.host=='www-dev.javascript.com'||window.location.host=='www-preview.javascript.com')){let isStage=false;if(window.location.host.indexOf("-stage.")>-1){isStage=true}let company="none";let audience="none";const mstime=(new Date()).valueOf();if(!noDBpromo&&dnbData.companyName){company=dnbData.companyName;audience=dnbData.industryNaics}jQuery.ajax({url:"/discounts/api/global-promo?company="+encodeURIComponent(company)+"&audience="+encodeURIComponent(audience)+"&time="+mstime,headers:{authorization:"aem"}}).done(function(promoData){if(promoData.campaignId||window.forceCampaignCode){window.globalPromos=promoData.promos;window.campaignCode=window.forceCampaignCode||promoData.campaignId;jQuery.ajax({url:"/content/pluralsight/en/global/promos/"+campaignCode+".html?time="+mstime}).done(function(bannerPage){const domainTransform=function(urlString){if(window.location.host=='learn.pluralsight.com'||window.location.host=='learn-dev.pluralsight.com'||window.location.host=='learn-stage.pluralsight.com'||window.location.host=='www.javascript.com'||window.location.host=='www-preview.javascript.com'||window.location.host=='www-stage.javascript.com'||window.location.host=='www-dev.javascript.com'){if(urlString.indexOf("/jscom")==0&&window.location.hostname.indexOf("javascript.com")>-1){urlString=urlString.substring(6,urlString.length)}else if(urlString.indexOf("/landing-pages")==0&&(window.location.hostname=="learn.pluralsight.com"||window.location.hostname=="learn-stage.pluralsight.com"||window.location.hostname=="learn-dev.pluralsight.com")){urlString=urlString.substring(14,urlString.length)}else{urlString="////";}}return urlString};const blockedPaths=jQuery(bannerPage).find(".promo-block-filters").data("blockedpaths");let blockedPathsArray=blockedPaths?blockedPaths.split(","):[];let isBlocked=false;for(const i in blockedPathsArray){let blockedPath=blockedPathsArray[i].trim();if(blockedPath.indexOf("=")==0){blockedPath=blockedPath.substring(1,blockedPath.length);if(window.location.pathname==domainTransform(blockedPath)){isBlocked=true;if(isStage){console.log("Promo banners blocked on page.")}}}else if(window.location.pathname.indexOf(domainTransform(blockedPath))==0){isBlocked=true;if(isStage){console.log("Promo banners blocked on page.")}}}if(!isBlocked){const $banners=jQuery(bannerPage).find(".promo-wrapper-filter");let bannerFound=false;jQuery.each($banners,function(key,item){const allowedPaths=jQuery(item).data("allowedpaths");let allowedPathsArray=allowedPaths?allowedPaths.split(","):[];let isAllowed=false;for(const i in allowedPathsArray){let allowedPath=allowedPathsArray[i].trim();if(allowedPath.indexOf("=")==0){allowedPath=allowedPath.substring(1,allowedPath.length);if(window.location.pathname==domainTransform(allowedPath)){isAllowed=true}}else if(window.location.pathname.indexOf(domainTransform(allowedPath))==0){isAllowed=true}}if(isAllowed){jQuery("#site-promo-content").html(item);jQuery("#site-promo-content img[data-lazysrc], #site-promo-content .lazy-bg").each(function(index,item){if(typeof loadLazysrc!="undefined"){loadLazysrc(item)}});window.blockPromoHide=jQuery(item).data("blockhiding");showPromoIfPermitted();bannerFound=true;return false}});if(!bannerFound){if(isStage){console.log("No allowed banner found on promo config page.")}}}}).fail(function(){if(isStage){console.log("No promo page found for campaign code "+campaignCode)}});window.promoTriggered=true;dtmEventTrigger("ps.promoTriggered",{})}window.promoCheckCompleted=true})}setPromoHeight()}if(window.dnbData.status||noDBpromo){promoCheck()}setTimeout(function(){if(!window.promoCheckRan){window.promoCheck()}},3000);window.addEventListener('resize',setPromoHeight);function setPromoHeight(){const bannerEl=$('.promo-and-banner-wrapper');if(bannerEl){if(previousHeight!==bannerEl.height()){previousHeight=bannerEl.height();if(bannerEl.height()>0){window.parent.postMessage({loaded:true,bannerHeight:bannerEl.height()})}else{window.parent.postMessage({loaded:true,bannerHeight:'auto'})}}}else{window.parent.postMessage({loaded:true,bannerHeight:0})}}
</script>
<script>
jQuery(".text.section, .text-2.section, .text-3.section, .text-4.section, .title.section, .title2.section").each(function(key,item) {
    if (item.innerHTML.indexOf("\u2028") > -1){
        item.innerHTML = item.innerHTML.replace(/\u2028/g, ' ');
    }
});
</script>
<script>
function isElementInViewport (el) {
  var rect = el.getBoundingClientRect();
  return (
    rect.top >= 0 &&
    rect.left >= 0 &&
    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /*or $(window).height() */
    rect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or $(window).width() */
  );
}
function loadLazysrc(item){
  var $item = jQuery(item);
  if ($item.hasClass("lazy-bg")){
    $item.removeClass("lazy-bg");
  } else {
    var src = $item.attr('data-lazysrc');
    $item.attr('src',src);
    $item.removeAttr('data-lazysrc');
  }
}

//lazy load images above the fold
jQuery('img[data-lazysrc],.lazy-bg').each(function(index,item){
  if ( jQuery(item).is(":visible") && isElementInViewport(item) ){
    loadLazysrc(item);
  } else if (document.URL.indexOf("lazyLoadOff=true") > -1){
    loadLazysrc(item);
  }
});

//lazy load images below the fold. Keep function available for promo service or others that may need it.
window.addEventListener('load', function(){
  jQuery('img[data-lazysrc],.lazy-bg').each(function(index,item){
    loadLazysrc(item);
  });
});
</script>
<link rel="stylesheet" href="./ps-tt-commons.css" type="text/css">
</div>
</div><script>_satellite["_runScript1"](function(event, target, Promise) {
//Marketing Channel Sort Code - added July 13 2022 via DEXO-983:
// last updated 9/13

/*! js-cookie v3.0.1 | MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,function(){var n=e.Cookies,o=e.Cookies=t();o.noConflict=function(){return e.Cookies=n,o}}())}(this,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}return function t(n,o){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n.write(r,t)+c}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},r=0;r<t.length;r++){var i=t[r].split("="),c=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(o[u]=n.read(c,u),e===u)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){r(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}));

mscookiesObject = (function () {
  const defaultDomain = '.pluralsight.com';
  const defaultPath = '/';
  const defaultDaysToLive = 90;

  // sets the cookie
  const setCookie = function (name, value, domain, path, daysToLive) {
    const settings = {};
    settings.domain = domain || defaultDomain;
    settings.path = path || defaultPath;
    settings.expires = daysToLive || defaultDaysToLive;
    Cookies.set(name, value, settings);
  };

  // gets the value of the named cookie
  const getCookie = function (name) {
    return Cookies.get(name);
  };

  return {
    getCookie: getCookie,
    setCookie: setCookie
  };
}());

psmcSort = (function() {
  'use strict';
  window.psData = window.psData || {};

  // scoping
  let marketingChannel = null;
  let setBy = null;
  let incomingUTM = {};
  let incomingCookies = {};
  let channelFound = false;
  let cookiesExpired = false;
  let utmCombinedStr, mpid, aid, vid, shortUTM, referrer, referringDomain;

  // config cookie settings
  let cookieName = 'psmc_mc';
  let setByCookieName = 'psmc_setby';
  let expCookieName = 'psmc_expires';
  let expirationDays = 90;

  //UTM Params
  const utmParams = ['utm_medium', 'utm_source', 'utm_campaign', 'utm_term', 'utm_content'];
  const shortUTMParams = ['utm_source', 'utm_medium', 'utm_content']; // switching utm_campaign to utm_content after learning marketing uses that for campaign names instead

  const displayAIDs = [
    '7014Q000001z1GeQAI',
    '7014Q000001yvh5QAA',
    '7014Q000002GhN1QAK',
    '7014Q000001ygddQAA',
    '7014Q000002GfkXQAS'
  ];

  const partnerAIDs = [
    '7014Q000002GgtzQAC',
    '7014Q000002Ggu9QAC',
    '7014Q0000022aHoQAI',
    '701j0000002BK7DAAW',
    '7010a000001xDURAA2'
  ];

  const emailDomainPieces = [
    'outlook.live.com',
    'mail.google.com',
    'mail.yahoo.com',
    'e.mail.ru',
    'mail.qq.com',
    'email.seznam.cz',
    'mail.ru',
    'temp-mail.org',
    '10minutemail.com',
    'trash-mail.com',
    '.mail',
    'mail.',
    'email',
  ];

  const socialDomainPieces = [
    'facebook.com',
    'linkedin.com',
    'twitter.com',
    't.co',
    'plus.google.com',
    'orkut.com',
    'friendster.com',
    'livejournal.com',
    'blogspot.com',
    'wordpress.com',
    'friendfeed.com',
    'myspace.com',
    'digg.com',
    'reddit.com',
    'stumbleupon.com',
    'twine.com',
    'yelp.com',
    'mixx.com',
    'delicious.com',
    'tumblr.com',
    'disqus.com',
    'intensedebate.com',
    'plurk.com',
    'slideshare.net',
    'backtype.com',
    'netvibes.com',
    'mister-wong.com',
    'diigo.com',
    'flixster.com',
    'youtube.com',
    'vimeo.com',
    '12seconds.tv',
    'zooomr.com',
    'identi.ca',
    'jaiku.com',
    'flickr.com',
    'imeem.com',
    'dailymotion.com',
    'photobucket.com',
    'fotolog.com',
    'smugmug.com',
    'classmates.com',
    'myyearbook.com',
    'mylife.com',
    'tagged.com',
    'brightkite.com',
    'ning.com',
    'bebo.com',
    'hi5.com',
    'yuku.com',
    'cafemom.com',
    'xanga.com'
  ];

  const searchUTMPieces = [
    'google',
    'bing',
    'msn',
    'yahoo',
    'yandex',
    'escosia',
    'duckduckgo',
  ];

  // may be a better way to handle these via wildcard for maintainability, but listing the top possibilities for now
  const searchDomainPieces = [
    'google.com',
    'bing.com',
    'yahoo.com',
    'baidu.com',
    'yandex.ru',
    'duckduckgo.com',
    'google.co.in',
    'google.co.uk',
    'google.com.hk',
    'google.ca',
    'google.com.au',
    'google.de',
    'google.fr',
    'com.google',
    'google.it',
    'google.pl',
    'google.com.vn',
    'google.se',
    'google.com.br',
    'google.co.th',
    'google.nl',
    'google.com.sg',
    'google.com.tr',
    'google.be',
    'google.com.mx',
    'google.com.ph',
    'google.es',
    'google.ch',
    'google.dk',
    'google.co.jp',
    'google.com.my',
    'google.ru',
    'google.ie',
    'google.com.pk',
    'google.no',
    'google.com.tw',
    'google.co.za',
    'google.ro',
    'google.co.kr',
    'google.pt',
    'google.co.nz',
    'google.co.id',
    'google.lk',
    'google.kz',
    'google.at',
    'google.com.ar',
    'google.gr',
    'google.fi',
    'google.com.eg',
    'google.com.ua',
    'google.lt',
    'google.sk',
    'google.cm',
    'google.ae',
    'google.cl',
    'google.hu',
    'google.co.cr',
    'google.com.co',
    'google.co.il',
    'google.cz',
    'google.com.pe',
    'google.hr',
    'yahoo.co.jp',
    'google.com.cy',
    'google.rw',
    'google.az',
    'google.sn',
    'google.iq',
    'google.com.bh',
    'google.com.bd',
    'google.com.sv',
    'googleadservices.com',
    'google.si',
    'google.co.ma',
    'google.al',
    'google.com.ng',
    'google.co.ke',
    'google.bg',
    'google.jo',
    'google.com.sa',
    'google.com.uy',
    'google.kg',
  ];

  const internalSites = [
    'pluralsight.com',
    'paypal.com',
    'acloudguru', // don't think this will ever match, but was included
    'acloudguru.com',
    'acloud.guru', // should take care of all below as well
    'checkout.acloud.guru',
    'click.acloud.guru',
    'learn.acloud.guru',
    'help.acloud.guru',
  ];

  const setPsData = function (incoming) {
    return Object.assign(window.psData, incoming);
  }

  const setMC = function (channel, by, expireNow = false, setChannel = true) {
    channel = channel.toLowerCase();
    by = by.toLowerCase();

    marketingChannel = channel;
    setBy = by;
    setMCCookies(marketingChannel, setBy, expireNow);
    setPsData({ 'marketingChannel': marketingChannel, 'setBy': setBy});

    if(setChannel && marketingChannel) {
      channelFound = true;
    }
  }

  const containsOneOf = function (haystackStr, needleArr, lcTheHay = true) {
    if(lcTheHay) { haystackStr = haystackStr.toLowerCase(); }
    return needleArr.some(n => haystackStr.includes(n));
  }

  /**
   * Private function to simply get all of the current URL's query parameters
   * @returns {null}
   */
  const getAllParameters = function () {
    let allParameters = null;

    if ('URLSearchParams' in window) {
      allParameters = new URLSearchParams(window.location.search);
    } else {
      console.error('Browser is incapable -- unable to get URLSearchParams...');
    }

    return allParameters;
  };

  /**
   * Checks if a param exists on the current url
   * @param paramName String, e.g. "type"
   * @returns {boolean} Boolean, true if
   */
  const hasQueryParameter = function (paramName) {
    let hasIt = false;
    const allParams = getAllParameters();

    if (allParams != null) {
      hasIt = allParams.has(paramName);
    }

    return hasIt;
  };

  /**
   * Gets the value of the url param if it exists on the current url
   * @param paramName String, e.g. "type"
   * @returns {string} String, e.g. "individual"
   */
  const getqp = function (paramName) {
    let paramValue = "";

    if (hasQueryParameter(paramName)) {
      const allParams = getAllParameters();
      if (allParams != null) {
        paramValue = decodeURI(allParams.getAll(paramName));
      }
    }

    return paramValue;
  };

  const getMCCookies = function() {
    let cookieObj = {};
    cookieObj.psmc = mscookiesObject.getCookie(cookieName);
    cookieObj.psmc_setby = mscookiesObject.getCookie(setByCookieName);
    cookieObj.psmc_exp = mscookiesObject.getCookie(expCookieName);

    return cookieObj;
  }

  const setMCCookies = function (channel, by, expireNow = false) {
    let cDomain = getCookieDomain();
    let days = expireNow ? -1 : expirationDays;
    let expiration = new Date(Date.now()).setDate(days); //saving in milliseconds for comparison to Date;

    mscookiesObject.setCookie(cookieName, channel, cDomain, '/', expirationDays);
    mscookiesObject.setCookie(setByCookieName, by, cDomain, '/', expirationDays);
    mscookiesObject.setCookie(expCookieName, expiration, cDomain, '/', expirationDays);
  }

  const clearMCCookies = function() {
    // using jscookies library that backs up Utils.cookies
    let cDomain = getCookieDomain();
    Cookies.remove(cookieName, {path: '/', domain: cDomain});
    Cookies.remove(setByCookieName, {path: '/', domain: cDomain});
    Cookies.remove(expCookieName, {path: '/', domain: cDomain});
    console.log('clearing mc cookies');
  }

  // one place in case this logic changes and needs to be consistent
  const getCookieDomain = function() {
    let pieces = document.location.hostname.split('.');
    return pieces[pieces.length - 2] + '.' + pieces[pieces.length - 1];
    //return document.location.hostname.replace('www-stage','').replace('www-dev', '').replace('www', '');
  }

  const shouldOverwriteCookie = function() {
    let cookieChannel = incomingCookies.psmc ? incomingCookies.psmc : '';
    let changeableChannel = containsOneOf(cookieChannel, ['organic social', 'organic search', 'organic referrer', 'direct'])
    if(!cookieChannel || changeableChannel) {
      return true;
    }

    return false;
  }

  /***
   * trying to give us a method to mock up parameters without constantly loading pages
   *
   * @param mock: json object with keys to overwrite portions of the detected parameters (example below)
   *
   * mock = {
   *   referrer: 'https://facebook.com', // as it would come from document.referrer
   *   utms: { // object with keys and values corresponding to utm params, can fake any of the ones we check
   *     utm_medium: 'newsletter',
   *     utm_term: 'cloud learning',
   *   },
   *   aid: '7010a000001xAKZAA2', // I'm assuming these are Affilliate IDs, normally read from URLs
   *   mpid: '6217234519', // long integer, gathered from URL
   *   previousChannel: 'display', // mock previous value for the cookie
   *   previousSetBy: 'utm', // mock previous setBy in cookies
   *   expireCookies: false, // any truthy value to mock expired cookie behaviors
   * }
   *
   */
  const checkMock = (mock) => {
    // early return if we're not getting what we expect
    if(typeof(mock) !== 'object' || Object.keys(mock).length < 1) {
      return;
    }

    // fake referrer
    if(mock.hasOwnProperty('referrer')) {
      referrer = mock.referrer;
      referringDomain = getReferringDomain(referrer);
    }

    // fake UTMs
    if(mock.hasOwnProperty('utms')) {
      // reset
      utmCombinedStr = '';
      incomingUTM = {};
      // write, need to pull this together with main function for consistency and dry
      Object.keys(mock.utms).forEach(function( key, index) {
        //keep empty out of combined string, but let them overwrite the internal vars
        if(mock.utms[key]) {
          if(utmCombinedStr) {
            utmCombinedStr += '|';
          }
          utmCombinedStr += mock.utms[key];
        }
        incomingUTM[key] = mock.utms[key];
      });
      shortUTM = combineShortUTM(incomingUTM);
    }

    // fake previous cookies
    // should set at least previousChannel and previousSetBy if you're using
    if(mock.hasOwnProperty('previousChannel')) {
      if(mock.hasOwnProperty( 'previousSetBy')) {
        marketingChannel = mock.previousChannel;
        setBy = mock.previousSetBy;
        setMC(marketingChannel, setBy, false, false);
        incomingCookies.psmc = marketingChannel;
        incomingCookies.psmc_setby = setBy;
      } else {
        console.log('found mocked previousChannel with out the previousSetBy, so ignored');
      }
    }
    // any truthy setting ? better ideas?
    if(mock.hasOwnProperty('expireCookies')) {
      if(mock.expireCookies) {
        setMC(marketingChannel, setBy, true, false);
      }
    }

    // fake mpid
    if(mock.hasOwnProperty('mpid')) {
      mpid = mock.mpid;
    }

    // fake aid, could add vid here
    if(mock.hasOwnProperty('aid')) {
      aid = mock.aid;
    }

    // not using return yet
    // return { incomingUTM };
  }

  // pull utms together for easy search across
  // will combine any array of items fed in and return the result with empties removed and pipes between
  const combineUTMs = function (utms) {
    let combinedStr = '';
    utms.forEach((u) => {
      let qp = getqp(u);
      if (qp) {
        if (combinedStr.length) {
          combinedStr += '|';
        }
        combinedStr += qp.toLowerCase();
      }
    });
    return combinedStr;
  }

  /**
   *
   * @param utms - our incomingUTMs as an object or array
   * we'll search through utms for the keys specified in combining/shortUTMParams and then return a combined version
   *
   */
  const combineShortUTM = function (utms) {
    let combined = '';

    shortUTMParams.forEach(k => {
      if(utms[k]) {
        if(combined.length) {
          combined += '|';
        }
        combined += utms[k];
      }
    });
    return combined;
  }

  /**
   *
   * @param utmNames - array of items we'll look to match to parameters from the url
   * @param incomingUTM - an object of key value pairs for utms from the url, update where we can
   * @returns incomingUTM with the found items added
   */
  const assignUTMs = function (utmNames, incomingUTM) {
    utmNames.forEach((u) => {
      incomingUTM[u] = getqp(u);
    });

    return incomingUTM;
  }

  /**
   * pull together the two parts we're using for AID, this changed and may change again
   * so wanted it to be defined for easy updates and understanding
   * @returns {string} - the combined AID we'll use for comparisons
   */
  const getAID = function() {
    let values = [getqp('aid'), getqp('vid')];
    return values.filter(Boolean).join('|');
  }

  /**
   * @param fullUrl - incoming URL, in referrer format, with protocol (ex: https://www.pluralsight.com)
   * @param searchArr - Array of domains we're matching against as strings, ex ['reddit.com', 'subdomain.domain.com', 't.co']
   * @returns boolean - whether or not the fullUrl matches an item in our array to the level of specficity provided
   *
   * this is overly complex because matching just from our allow list to referrer was giving us fake positives for pluralsight.com matching t.co
   * and matching just the ending would also open us to things like pluralsight.co matching in the future
   * and... we can't just hostname match, because we have some subdomains listed
   * so we're going a little more complex, trying to leave informative comments along the way
   *
   * general scheme is match incoming domain name to items in our array of allowed domains by matching full parts separated by dots
   * match on the level of specificity defined in the array
   * that allows a full range of subdomains if we don't specify, and allows just our list if we do
   *
   * 't.co' will match twitter.t.co and sub.t.co but not pluralsight.com or donut.co
   * 'plus.google.com' will match img.plus.google.com but not search.google.com
   */
  const domainMatch = function (fullUrl, searchArr) {
    let checkForDomain = fullUrl.toLowerCase().trim();
    if(checkForDomain.length) {
      try {
        let hostname = new URL(checkForDomain).hostname;
        return searchArr.some(allowDomain => {
          //match each piece, starting from the end
          let allowPieces = allowDomain.split('.');
          let checkPieces = hostname.split('.');
          checkPieces = checkPieces.slice(-allowPieces.length);

          return JSON.stringify(allowPieces) === JSON.stringify(checkPieces);
        });
      } catch(e) {
        console.log('can not match domain name for referrer match ' + fullUrl)
      }
    }
  }

  // simple logic, might change, need in multiple places
  const getReferringDomain = function (refURL) {
    let hostname = '';
    if(refURL.trim().length) {
      try {
        hostname = new URL(refURL).hostname;
        // simplifying to match our list
        let snp = hostname.split('.');
        if(snp.length > 2) {
          hostname = snp[snp.length - 2] + '.' + snp[snp.length - 1];
        }
      } catch (e) { // probably a better way to handle this
        console.log('no referrer found for ' + refURL);
      }
    }
    return hostname;
  }

  // need a full match for what might be multiple values separated by commas
  const fullMatch = function (needle, stackList = '') {
    let slItems = stackList.split(',');
    return slItems.includes(needle);
  }

  const sort = function() {
    // our decision tree
    if (utmCombinedStr || mpid || aid || vid || referrer) {
      if (mpid) {
        setMC('affiliate', mpid);                                                                         // rule 1: Affiliate: MPID
      } else if (utmCombinedStr.includes('affiliate')) {
        setMC('affiliate', shortUTM);                                                                     // rule 2: Affiliate: "Digital_Affiliate", "Affiliate" anywhere in UTMs
      } else if (containsOneOf(aid, ['7010a000001xAKZAA2'], false)) {
        setMC('affiliate', aid);                                                                          // rule 3: Affiliate: Affiliate AID
      } else if (utmCombinedStr.includes('impactradius') || utmCombinedStr.includes('shareasale')) {
        setMC('affiliate', shortUTM);                                                                     // rule 4: Affiliate: Specific Affiliates in UTM Source
      } else if (utmCombinedStr.includes('display')) {
        setMC('display', shortUTM);                                                                       // rule 5: Display: "digital_display" and "display"
      } else if (utmCombinedStr.includes('mntn')) {
        setMC('display', shortUTM);                                                                       // rule 8: Display: "MNTN"
      } else if (utmCombinedStr.includes('youtube')) {
        if (incomingUTM.utm_medium && incomingUTM.utm_medium.includes('paid')) {
          setMC('display', shortUTM);                                                                     // rule 6: Display: "youtube" and "paid" utm medium
        } else if (incomingUTM.utm_source && incomingUTM.utm_source.includes('paid')) {
          setMC('display', shortUTM);                                                                     // rule 7: Display: "youtube" and "paid" utm source
        } else if (utmCombinedStr.includes('prospecting')) {
          setMC('display', shortUTM);                                                                     // Rule 9: "Display" "Prospecting"
        } else if (utmCombinedStr.includes('retargeting')) {
          setMC('display', shortUTM);                                                                     // rule 10: Display: "youtube" and "retargeting"
        } else if (incomingUTM.utm_medium && incomingUTM.utm_medium.includes('social')) {
          setMC('organic social', shortUTM);                                                              // rule 11: Display: "youtube" and "social" utm medium
        } else if (incomingUTM.utm_source && incomingUTM.utm_source.includes('social')) {
          setMC('organic social', shortUTM);                                                              // rule 12: Display: "youtube" and "social" utm source
        } else if (domainMatch(referrer, socialDomainPieces) && incomingUTM.utm_source && fullMatch('youtube', incomingUTM.utm_source)) {
          setMC('organic social', shortUTM);                                                              // rule 13: referring social domain + youtube in source
        } else if (!utmCombinedStr.includes('organic-social')) {
          setMC('paid social', shortUTM);                                                                 // rule 14: catchall for social going to paid if youtube and none of above are true.
        } else {
          setMC('other', shortUTM); // catching youtube specific "other"                                  // rule 15: other catchall
        }
      } else if (containsOneOf(aid, displayAIDs, false)) {
        setMC('display', aid);                                                                            // rule 16: Display: Display AID list
      } else if (utmCombinedStr.includes('paid_search')) {
        setMC('paid search', shortUTM);                                                                   // rule 17: Paid Search: "paid_search"
      } else if (utmCombinedStr.includes('branded')) {
        setMC('paid search', shortUTM);                                                                   // rule 18: Paid Search: "branded"
      } else if (utmCombinedStr.includes('ppc') && utmCombinedStr.includes('google')) {
        setMC('paid search', shortUTM);                                                                   // rule 19: Paid Search: "ppc" and "google"
      } else if (utmCombinedStr.includes('ppc') && utmCombinedStr.includes('bing')) {
        setMC('paid search', shortUTM);                                                                   // rule 20: Paid Search: "ppc" and "bing"
      } else if (utmCombinedStr.includes('ppc') && utmCombinedStr.includes('adwords')) {
        setMC('paid search', shortUTM);                                                                   // rule 21: Paid Search: "ppc" and "adwords"
      } else if (utmCombinedStr.includes('cpc') && utmCombinedStr.includes('bing')) {
        setMC('paid search', shortUTM);                                                                   // rule 22: Paid Search: "cpc" and "bing"
      } else if (utmCombinedStr.includes('cpc') && utmCombinedStr.includes('google')) {
        setMC('paid search', shortUTM);                                                                   // rule 23: Paid Search: "cpc" and "google"
      } else if (utmCombinedStr.includes('cpc') && utmCombinedStr.includes('yahoo')) {
        setMC('paid search', shortUTM);                                                                   // rule 24: Paid Search: "cpc" and "yahoo"
      } else if (utmCombinedStr.includes('cpc') && utmCombinedStr.includes('duckduckgo')) {
        setMC('paid search', shortUTM);                                                                   // rule 25: Paid Search: "cpc" and "duckduckgo"
      } else if (utmCombinedStr.includes('paid-social')) {
        setMC('paid social', shortUTM);                                                                   // rule 26: Paid Social: "paid-social"
      } else if (utmCombinedStr.includes('cpcp')) {
        setMC('paid social', shortUTM);                                                                   // rule 27: Paid Social: "cpcp"
      } else if (utmCombinedStr.includes('linkedin') && !utmCombinedStr.includes('organic-social')) {
        setMC('paid social', shortUTM);                                                                   // rule 28: Paid Social: "linkedin" But: Must only fire if 'organic-social' is not in utmCombinedStr
      } else if (utmCombinedStr.includes('twitter') && !utmCombinedStr.includes('organic-social')) {
        setMC('paid social', shortUTM);                                                                   // rule 29: Paid Social: "twitter" But: Must only fire if 'organic-social' is not in utmCombinedStr
      } else if (utmCombinedStr.includes('reddit') && !utmCombinedStr.includes('organic-social')) {
        setMC('paid social', shortUTM);                                                                   // rule 30: Paid Social: "reddit" But: Must only fire if 'organic-social' is not in utmCombinedStr
      } else if (utmCombinedStr.includes('facebook') && !utmCombinedStr.includes('organic-social')) {
        setMC('paid social', shortUTM);                                                                   // rule 31: Paid Social: "facebook" But: Must only fire if 'organic-social' is not in utmCombinedStr
      } else if (utmCombinedStr.includes('facebook') && utmCombinedStr.includes('paid-search')) {
        setMC('paid social', shortUTM);                                                                   // rule 32: Paid Social: "facebook" and a specific historical case where paid-search was flagged for paid social
      } else if (incomingUTM.utm_medium && fullMatch('cpc', incomingUTM.utm_medium) && !incomingUTM.utm_source) {
        setMC('paid search', shortUTM);                                                                   // rule 33: Paid Social: 'CPC' Catchall
      } else if (utmCombinedStr.includes('digital_paid_social')) {
        setMC('paid social', shortUTM);                                                                   // rule 34: Paid Social: "Digital_Paid_Social"
      } else if (containsOneOf(utmCombinedStr, ['email', 'nurture', 'lifecycle', 'newsletter'])) {
        setMC('email', shortUTM);                                                                         // rule 35: Email: 4 email UTM parameters
      } else if (domainMatch(referrer, emailDomainPieces)) {
        setMC('email', 'referring domain');                                                            // rule 36, 37: Email: email referring domain
      } else if (utmCombinedStr.includes('organic-social')) {
        setMC('organic social', shortUTM);                                                                 // rule 38 Organic Social: organic-social - this probably needs to go above Paid-Social the way the code works. also needs "organic_social" to match mappings in how UTMs are designed to work.
      } else if (utmCombinedStr.includes('partner')) {
        setMC('partner', shortUTM);                                                                        // rule 39 Partner: "partner"
      } else if (containsOneOf(utmCombinedStr, ['events', 'ps_live', 'ps_navigate'])) {
        setMC('events', shortUTM);                                                                         // rule 40: Events: combined
      } else if (utmCombinedStr.includes('comms')) {
        setMC('comms', shortUTM);                                                                          // rule 41: Comms: "comms" rule 42 is not in javascript
      } else if (utmCombinedStr.includes('referral_program')) {
        setMC('referral', shortUTM);                                                                       // rule 48: Referral: "digital Referral program"
      } else if (utmCombinedStr.includes('saasquatch')) {
        setMC('referral', shortUTM);                                                                       // rule 48: Referral:Saasquatch
      } else if (containsOneOf(aid, partnerAIDs, false)) {
        setMC('partner', aid);                                                                             // rule 49: Partner: Partner AIDs
      } else if (aid) {
        setMC('new aid', aid);                                                                             // rule 45: new AID
      } else if (vid && !utmCombinedStr) {
        setMC('email', vid);
      }
    } // end if (utmCombinedStr)

    let latestCookies = getMCCookies();
    if (Date.now() > latestCookies.psmc_exp) { // expired clear storage, update variable
      clearMCCookies();
      latestCookies = {};
      cookiesExpired = true;
    }

    if (!channelFound && (cookiesExpired || shouldOverwriteCookie()) ) {
      // haven't set a channel or cookies expired, go to next tier
      if (domainMatch(referrer, socialDomainPieces)) {
        setMC('organic social', 'referring domain');                                                      // rule 38: Organic Social
      } else if (containsOneOf(utmCombinedStr, searchUTMPieces)) {
        setMC('organic search', shortUTM);                                                                    // rule 46: Organic Search
      } else if (domainMatch(referrer, searchDomainPieces)) {
        setMC('organic search', 'search engine');                                                         // rule 47: Organic Search
      } else if (utmCombinedStr.length > 1) {
        setPsData({ marketingChannel: 'other', setBy: shortUTM } );                                       // rule 43: Other setting an "other" bucket if we have UTMs and somehow haven't set a channel yet, this should help us track down gaps or bad UTM setups, not setting a cookie for this scenario
      } else if (referrer && !domainMatch(referrer, internalSites)) {
        setMC('organic referrer', 'referrer default');                                                    // rule 50: Organic Referrer: Organic Referrer exists
      } else { // no referrer, so finally our default
        setMC('direct', 'default');                                                                       // rule 51: Direct
      }
    } else { // channel found or cookie found, isn't expired, and shouldn't be overwritten
      if(!channelFound && incomingCookies && incomingCookies.psmc) {
        setPsData({ 'marketingChannel': incomingCookies.psmc, 'setBy': incomingCookies.psmc_setby});
      }
    }
  } //end sort();

  const init = function (mock = {}) {
    utmCombinedStr = combineUTMs(utmParams);
    incomingUTM = assignUTMs(utmParams, incomingUTM);
    shortUTM = combineShortUTM(incomingUTM);
    channelFound = false;
    cookiesExpired = false;

    // Other factors in Marketing Channel definitions
    mpid = getqp('mpid');
    aid = getAID(); //combining AID and VID in urls
    vid = getqp('vid'); // just VID
    referrer = document.referrer;
    referringDomain = getReferringDomain(referrer);
    incomingCookies = getMCCookies();

    let mockSettings = checkMock(mock);
    setPsData({incomingUTM, utmCombinedStr});

    sort();

    return {
      marketingChannel,
      setBy,
      shortUTM,
      incomingUTM,
      init
    }
  }

  return init();
}());
});</script>


<style>.cookie_notification{display: none}</style></body></html>